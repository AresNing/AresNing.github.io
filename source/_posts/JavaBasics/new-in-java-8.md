---
title: Java8新特性
categories:
  - [Java Basics]
tags:
  - [Java]
  - [Lambda]
  - [Functional Interface]
  - [Stream]
  - [Optional]
---



<!--more-->

# Lambda表达式

## 本质

- Lambda表达式的实质是**函数式接口的实例**
- 所以以前用匿名内部类表示的，现在都可以用Lambda表达式来写

## 语法

- `->`：箭头操作符
- 左侧：Lambda表达式的形参列表，也就是抽象方法的形参列表
- 右侧：Lambda表达式的方法体，也就是重写的抽象方法的方法体

## 语法总结

- 左侧：
  - Lambda形参列表的参数类型可以省略（类型推断）
  - 如果Lambda形参列表只有一个参数，则小括号`()`可省略
- 右侧：
  - Lambda体应该用大括号`{}`包裹
  - 如果Lambda体只有一条执行语句（包括`return`语句），则大括号`{}`和`return`关键字都可以省略

# 函数式接口

## 定义

- 如果一个接口中，只声明了一个抽象方法，则该接口为函数式接口
- 可以在接口上使用`@FunctionalInterface`注解，以检查它是否是一个函数式接口

## 使用举例

### Java内置四大核心函数式接口

| 函数式接口                 | 参数类型 | 返回类型  | 用途                                                         |
| -------------------------- | -------- | --------- | ------------------------------------------------------------ |
| `Consumer<T>`消费型接口    | `T`      | `void`    | 对类型为`T`的对象应用操作，包含方法：`void accept(T t)`      |
| `Supplier<T>`供给型接口    | /        | `T`       | 返回类型为`T`的对象，包含方法：`T get()`                     |
| `Function<T, R>`函数型接口 | `T`      | `R`       | 对类型为`T`的对象应用操作，并返回类型为`R`的对象，包含方法：`R appply(T t)` |
| `Predicate<T>`断定型接口   | `T`      | `boolean` | 确定类型为`T`的对象是否满足某约束，并返回`boolean`值，包含方法：`boolean test(T t)` |

# 方法引用与构造器引用